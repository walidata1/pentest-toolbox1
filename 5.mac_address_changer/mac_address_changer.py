#!/usr/bin/env python
"""MAC Address Changer

This script changes the MAC address of a specified network interface.

Usage:
    ./mac_address_changer.py

Replace 'eth0' with the name of your actual network interface and choose a random MAC address.

"""

import subprocess
import random
import sys

def get_random_mac():
    """Generate a random MAC address."""
    random_mac = [0x00, 0x16, 0x3e, random.randint(0x00, 0x7f),
                  random.randint(0x00, 0xff), random.randint(0x00, 0xff)]
    return ':'.join(map("{:02x}".format, random_mac))

def change_mac(interface, new_mac):
    """Change the MAC address of the specified interface."""
    print(f"Changing MAC address of {interface} to {new_mac}")

    # Disable the network interface
    subprocess.call(["sudo", "ifconfig", interface, "down"])

    # Change the MAC address
    subprocess.call(["sudo", "ifconfig", interface, "hw", "ether", new_mac])

    # Enable the network interface
    subprocess.call(["sudo", "ifconfig", interface, "up"])

if __name__ == "__main__":
    # Example usage:
    network_interface = "eth0"  # Replace with your actual network interface (e.g., eth0, wlan0)

    RANDOM_MAC_1 = get_random_mac()
    RANDOM_MAC_2 = get_random_mac()
    RANDOM_MAC_3 = get_random_mac()

    print("\nChoose a MAC address option:")
    print(f"1. Default MAC address (00:15:22:33:44:55)")
    print(f"2. Random MAC address 1: {RANDOM_MAC_1}")
    print(f"3. Random MAC address 2: {RANDOM_MAC_2}")
    print(f"4. Random MAC address 3: {RANDOM_MAC_3}")

    choice = input("Enter your choice (1-4): ")

    if choice == "1":
        new_mac = "00:11:22:33:44:55"
    elif choice == "2":
        new_mac = RANDOM_MAC_1
    elif choice == "3":
        new_mac = RANDOM_MAC_2
    elif choice == "4":
        new_mac = RANDOM_MAC_3
    else:
        print("Invalid choice. Exiting.")
        sys.exit()

    change_mac(network_interface, new_mac)

